@using Nodexr.Shared.NodeTypes;
@inject INodeHandler NodeHandler
@inject INodeDragService NodeDragService

<div class="viewport sidebar panel">
    <div class="node-list-heading">Nodes</div>
    @foreach (var category in exampleCategories)
    {
        <div class="node-list-subheading">@category.name</div>
        foreach (var node in category.nodes)
        {
            <NodeListPreview Data="node" />
        }
    }

</div>

@functions{
    protected Type[] nodeTypes { get; set; }

    List<(string name, RegexNodeViewModelBase[] nodes)> exampleCategories = new List<(string, RegexNodeViewModelBase[])>
    {
        ("Basics",
        new RegexNodeViewModelBase[]
        {
            new TextNode(),
            new GroupNode(),
        }),

        ("Wildcards",
        new RegexNodeViewModelBase[]
        {
            new WildcardNode(),
            new CharSetNode(),
            new WhitespaceNode(),
            new UnicodeNode(),
        }),

        ("Alternation",
        new RegexNodeViewModelBase[]
        {
            new OrNode(),
            new IfElseNode(),
        }),

        ("Repetition",
        new RegexNodeViewModelBase[]
        {
            new QuantifierNode(),
            new ReferenceNode(),
            new ConcatNode(),
        }),

        ("Zero-Width Anchors",
        new RegexNodeViewModelBase[]
        {
            new AnchorNode(),
            new LookaroundNode(),
        }),

        ("Other",
        new RegexNodeViewModelBase[]
        {
            new CommentNode(),
            new FlagNode(),
        }),

        ("Experimental",
        new RegexNodeViewModelBase[]
        {
            new DecimalNode(),
            new IntegerNode(),
            new OptionalNode(),
            new ListNode(),
            new RecursionNode(),
        }),
    };
}
